{"ast":null,"code":"import _defineProperty from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{compose}from\"recompose\";import{SignUpLink}from\"../SignUp\";import{PasswordForgetLink}from\"../PasswordForget\";import{withFirebase}from\"../Firebase\";import*as ROUTES from\"../../constants/routes\";import google from\"./google.png\";import facebook from\"./facebook.png\";import twitter from\"./twitter.png\";var SignInPage=function SignInPage(){return React.createElement(\"div\",{className:\"sign-in\"},React.createElement(\"h1\",null,\"Sign In\"),React.createElement(SignInForm,null),React.createElement(SignInGoogle,null),React.createElement(SignInFacebook,null),React.createElement(SignInTwitter,null),React.createElement(PasswordForgetLink,null),React.createElement(SignUpLink,null));};var ERROR_CODE_ACCOUNT_EXISTS=\"auth/account-exists-with-different-credential\";var ERROR_MSG_ACCOUNT_EXISTS=\"\\nAn account with an E-Mail address to\\nthis social account already exists. Try to login from this account instead and associate your social accounts on your personal account page.\\n\";var INITIAL_STATE={email:\"\",password:\"\",error:null};var SignInFormBase=/*#__PURE__*/function(_Component){_inherits(SignInFormBase,_Component);function SignInFormBase(props){var _this;_classCallCheck(this,SignInFormBase);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignInFormBase).call(this,props));_this.onSubmit=function(event){var _this$state=_this.state,email=_this$state.email,password=_this$state.password;_this.props.firebase.doSignInWithEmailAndPassword(email,password).then(function(){_this.setState(_objectSpread({},INITIAL_STATE));_this.props.history.push(ROUTES.HOME);}).catch(function(error){_this.setState({error:error});});event.preventDefault();};_this.onChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_objectSpread({},INITIAL_STATE);return _this;}_createClass(SignInFormBase,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,error=_this$state2.error;var isInvalid=password===\"\"||email===\"\";return React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"input\",{name:\"email\",value:email,onChange:this.onChange,type:\"text\",placeholder:\"Email Address\"}),React.createElement(\"input\",{name:\"password\",value:password,onChange:this.onChange,type:\"password\",placeholder:\"Password\"}),React.createElement(\"button\",{id:\"signin-btn\",disabled:isInvalid,type:\"submit\"},\"Sign In\"),React.createElement(\"hr\",null),error&&React.createElement(\"p\",null,error.message));}}]);return SignInFormBase;}(Component);var SignInGoogleBase=/*#__PURE__*/function(_Component2){_inherits(SignInGoogleBase,_Component2);function SignInGoogleBase(props){var _this2;_classCallCheck(this,SignInGoogleBase);_this2=_possibleConstructorReturn(this,_getPrototypeOf(SignInGoogleBase).call(this,props));_this2.onSubmit=function(event){_this2.props.firebase.doSignInWithGoogle().then(function(socialAuthUser){//create a user in your firebase realtime db //\nreturn _this2.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.user.displayName,email:socialAuthUser.user.email,roles:{}});}).then(function(){_this2.setState({error:null});_this2.props.history.push(ROUTES.HOME);}).catch(function(error){if(error.code===ERROR_CODE_ACCOUNT_EXISTS){error.message=ERROR_MSG_ACCOUNT_EXISTS;}});event.preventDefault();};_this2.state={error:null};return _this2;}_createClass(SignInGoogleBase,[{key:\"render\",value:function render(){var error=this.state.error;return React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"a\",{href:\"/home\",type:\"submit\"},React.createElement(\"img\",{id:\"google-signin\",src:google,alt:\"Sign In With Google\"})),error&&React.createElement(\"p\",null,error.message));}}]);return SignInGoogleBase;}(Component);var SignInFacebookBase=/*#__PURE__*/function(_Component3){_inherits(SignInFacebookBase,_Component3);function SignInFacebookBase(props){var _this3;_classCallCheck(this,SignInFacebookBase);_this3=_possibleConstructorReturn(this,_getPrototypeOf(SignInFacebookBase).call(this,props));_this3.onSubmit=function(event){_this3.props.firebase.doSignInWithFacebook().then(function(socialAuthUser){// Create a user in your Firebase Realtime Database too\nreturn _this3.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.additionalUserInfo.profile.name,email:socialAuthUser.additionalUserInfo.profile.email,roles:{}});}).then(function(){_this3.setState({error:null});_this3.props.history.push(ROUTES.HOME);}).catch(function(error){if(error.code===ERROR_CODE_ACCOUNT_EXISTS){error.message=ERROR_MSG_ACCOUNT_EXISTS;}});event.preventDefault();};_this3.state={error:null};return _this3;}_createClass(SignInFacebookBase,[{key:\"render\",value:function render(){var error=this.state.error;return React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"a\",{href:\"/home\",type:\"submit\"},React.createElement(\"img\",{id:\"facebook-signin\",src:facebook,alt:\"Sign In With Facebook\"})),error&&React.createElement(\"p\",null,error.message));}}]);return SignInFacebookBase;}(Component);var SignInTwitterBase=/*#__PURE__*/function(_Component4){_inherits(SignInTwitterBase,_Component4);function SignInTwitterBase(props){var _this4;_classCallCheck(this,SignInTwitterBase);_this4=_possibleConstructorReturn(this,_getPrototypeOf(SignInTwitterBase).call(this,props));_this4.onSubmit=function(event){_this4.props.firebase.doSignInWithTwitter().then(function(socialAuthUser){// Create a user in your Firebase Realtime Database too\nreturn _this4.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.additionalUserInfo.profile.name,email:socialAuthUser.additionalUserInfo.profile.email,roles:{}});}).then(function(){_this4.setState({error:null});_this4.props.history.push(ROUTES.HOME);}).catch(function(error){if(error.code===ERROR_CODE_ACCOUNT_EXISTS){error.message=ERROR_MSG_ACCOUNT_EXISTS;}});event.preventDefault();};_this4.state={error:null};return _this4;}_createClass(SignInTwitterBase,[{key:\"render\",value:function render(){var error=this.state.error;return React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"a\",{href:\"/home\",type:\"submit\"},React.createElement(\"img\",{id:\"twitter-signin\",src:twitter,alt:\"Sign in with Twitter\"})),error&&React.createElement(\"p\",null,error.message));}}]);return SignInTwitterBase;}(Component);var SignInForm=compose(withRouter,withFirebase)(SignInFormBase);var SignInGoogle=compose(withRouter,withFirebase)(SignInGoogleBase);var SignInFacebook=compose(withRouter,withFirebase)(SignInFacebookBase);var SignInTwitter=compose(withRouter,withFirebase)(SignInTwitterBase);export default SignInPage;export{SignInForm,SignInGoogle,SignInFacebook,SignInTwitter};","map":{"version":3,"sources":["/Users/cdot/Desktop/Road To React book projects/reactWithFirebase/react-firebase-authentication/src/components/SignIn/index.js"],"names":["React","Component","withRouter","compose","SignUpLink","PasswordForgetLink","withFirebase","ROUTES","google","facebook","twitter","SignInPage","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","INITIAL_STATE","email","password","error","SignInFormBase","props","onSubmit","event","state","firebase","doSignInWithEmailAndPassword","then","setState","history","push","HOME","catch","preventDefault","onChange","target","name","value","isInvalid","message","SignInGoogleBase","doSignInWithGoogle","socialAuthUser","user","uid","set","username","displayName","roles","code","SignInFacebookBase","doSignInWithFacebook","additionalUserInfo","profile","SignInTwitterBase","doSignInWithTwitter","SignInForm","SignInGoogle","SignInFacebook","SignInTwitter"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\n\nimport { SignUpLink } from \"../SignUp\";\nimport { PasswordForgetLink } from \"../PasswordForget\";\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nimport google from \"./google.png\";\nimport facebook from \"./facebook.png\";\nimport twitter from \"./twitter.png\";\n\nconst SignInPage = () => (\n  <div className=\"sign-in\">\n    <h1>Sign In</h1>\n    <SignInForm />\n    <SignInGoogle />\n    <SignInFacebook />\n    <SignInTwitter />\n    <PasswordForgetLink />\n    <SignUpLink />\n  </div>\n);\n\nconst ERROR_CODE_ACCOUNT_EXISTS =\n  \"auth/account-exists-with-different-credential\";\nconst ERROR_MSG_ACCOUNT_EXISTS = `\nAn account with an E-Mail address to\nthis social account already exists. Try to login from this account instead and associate your social accounts on your personal account page.\n`;\n\nconst INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null\n};\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === \"\" || email === \"\";\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"password\"\n          value={password}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <button id=\"signin-btn\" disabled={isInvalid} type=\"submit\">\n          Sign In\n        </button>\n        <hr />\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nclass SignInGoogleBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithGoogle()\n      .then(socialAuthUser => {\n        //create a user in your firebase realtime db //\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {}\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <a href=\"/home\" type=\"submit\">\n          <img id=\"google-signin\" src={google} alt=\"Sign In With Google\" />\n        </a>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nclass SignInFacebookBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithFacebook()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {}\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <a href=\"/home\" type=\"submit\">\n          <img\n            id=\"facebook-signin\"\n            src={facebook}\n            alt=\"Sign In With Facebook\"\n          />\n        </a>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nclass SignInTwitterBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithTwitter()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {}\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <a href=\"/home\" type=\"submit\">\n          <img id=\"twitter-signin\" src={twitter} alt=\"Sign in with Twitter\" />\n        </a>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignInForm = compose(\n  withRouter,\n  withFirebase\n)(SignInFormBase);\n\nconst SignInGoogle = compose(\n  withRouter,\n  withFirebase\n)(SignInGoogleBase);\n\nconst SignInFacebook = compose(\n  withRouter,\n  withFirebase\n)(SignInFacebookBase);\n\nconst SignInTwitter = compose(\n  withRouter,\n  withFirebase\n)(SignInTwitterBase);\n\nexport default SignInPage;\n\nexport { SignInForm, SignInGoogle, SignInFacebook, SignInTwitter };\n"]},"metadata":{},"sourceType":"module"}